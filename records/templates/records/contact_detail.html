{% extends "base.html" %}

{% block title %}{{ contact.entity_info.name }} - Dog Rescue Management{% endblock %}

{% block extra_css %}
<style>
    .contact-header {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: var(--shadow);
        margin-bottom: 2rem;
        border-left: 4px solid var(--primary-color);
    }

    .contact-title {
        font-size: 2rem;
        font-weight: 700;
        color: var(--text-color);
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .contact-meta {
        color: var(--text-light);
        font-size: 0.9rem;
        margin-bottom: 1.5rem;
    }

    .contact-info {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .info-card {
        background: var(--secondary-color);
        padding: 1.5rem;
        border-radius: 8px;
    }

    .info-label {
        font-size: 0.8rem;
        font-weight: 600;
        color: var(--text-light);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 0.5rem;
    }

    .info-value {
        font-size: 1rem;
        color: var(--text-color);
        font-weight: 500;
    }

    .actions {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
    }


    .adopted-dogs {
        background: white;
        border-radius: 12px;
        padding: 2rem;
        box-shadow: var(--shadow);
    }

    .section-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--text-color);
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .dogs-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1rem;
    }

    .dog-card {
        background: var(--secondary-color);
        padding: 1rem;
        border-radius: 8px;
        transition: all 0.2s ease;
        cursor: pointer;
    }

    .dog-card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow);
    }

    .dog-name {
        font-weight: 600;
        color: var(--text-color);
        margin-bottom: 0.5rem;
    }

    .dog-details {
        font-size: 0.9rem;
        color: var(--text-light);
    }

    .empty-state {
        text-align: center;
        padding: 2rem;
        color: var(--text-light);
    }

    .empty-state-icon {
        font-size: 2rem;
        margin-bottom: 1rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="contact-header">
    <h1 class="contact-title">
        üë§ {{ contact.entity_info.name }}
    </h1>
    
    <div class="contact-meta">
        Contact created on {{ contact.created|date:"F j, Y" }}
    </div>

    <div class="contact-info">
        {% if contact.entity_info.email %}
        <div class="info-card">
            <div class="info-label">Email</div>
            <div class="info-value">{{ contact.entity_info.email }}</div>
        </div>
        {% endif %}

        {% if contact.entity_info.phone %}
        <div class="info-card">
            <div class="info-label">Phone</div>
            <div class="info-value">{{ contact.entity_info.phone }}</div>
        </div>
        {% endif %}

        {% if contact.entity_info.address %}
        <div class="info-card">
            <div class="info-label">Address</div>
            <div class="info-value">{{ contact.entity_info.address|linebreaks }}</div>
        </div>
        {% endif %}
    </div>

    <div class="actions">
        <a href="{% url 'records:contact_update' contact.pk %}" class="btn btn-primary">
            ‚úèÔ∏è Edit Contact
        </a>
        <a href="{% url 'records:contact_delete' contact.pk %}" class="btn btn-danger">
            üóëÔ∏è Delete Contact
        </a>
        <a href="{% url 'main:dashboard' %}" class="btn btn-secondary">
            ‚Üê Back to Dashboard
        </a>
    </div>
</div>

{% if adopted_dogs %}
<div class="adopted-dogs">
    <h2 class="section-title">
        üêï Adopted Dogs
    </h2>
    
    <div class="dogs-grid">
        {% for dog in adopted_dogs %}
        <div class="dog-card" onclick="window.location.href='{% url 'records:dog_detail' dog.pk %}'">
            <div class="dog-name">{{ dog.name }}</div>
            <div class="dog-details">
                {{ dog.get_breed_display }} ‚Ä¢ {{ dog.age_months }} months
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
{% endblock %}